<template>
  <section class="flex justify-center bg-gray-50">
    <div
      class="w-[90vw] sm:w-[400px] my-10 p-10 rounded-sm bg-white shadow-lg hover:shadow-xl base-trans relative"
    >
      <component :is="logInStages['LogInStage' + useStore.stage]" />
    </div>
  </section>
</template>

<script setup>
  import { useAuthStore } from "~/stores/userAuthStore";
  import { useUserLogInStore } from "~/stores/userLogInStore";
  import LogInStage1 from "~/components/LogIn/User/UserLogInStage1";
  import LogInStage2 from "~/components/LogIn/User/UserLogInStage2";
  import LogInStage3 from "~/components/LogIn/User/UserLogInStage3";
  import LogInStage4 from "~/components/LogIn/User/UserLogInWithEmailPassword";

  const useStore = useUserLogInStore();
  const authStore = useAuthStore();

  const logInStages = { LogInStage1, LogInStage2, LogInStage3, LogInStage4 };

  if (authStore.isLoggedIn) {
    navigateTo("./profile");
  }
</script> 